import{u as lt,a as Te,e as w,i as a,b as ce,c as dt,t as j,d as ie,f as ye,g as we,r as L,h as Nt,j as Ut,k as Ve,s as ft,l as H,m as J,n as Q,o as De,p as B,q as Qe,v as x,w as $e,x as Dt,y as le,F as ht,z as Qt,A as he,B as $t,C as We,D as mt,E as He,G as Je,H as pt,I as zt,J as Lt,K as xt}from"./react-spring-animated.esm-BsTr4d3RJ02a.js";import{b6 as C}from"./common-BQgXWrz2O5Bt.js";import{bP as Bt}from"./render-common-CBDTO_er9s96.js";function M(){return M=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var s=arguments[t];for(var i in s)Object.prototype.hasOwnProperty.call(s,i)&&(e[i]=s[i])}return e},M.apply(this,arguments)}function q(e,...t){return a.fun(e)?e(...t):e}const de=(e,t)=>e===!0||!!(t&&e&&(a.fun(e)?e(t):j(e).includes(t))),gt=(e,t)=>a.obj(e)?t&&e[t]:e,yt=(e,t)=>e.default===!0?e[t]:e.default?e.default[t]:void 0,Gt=e=>e,Oe=(e,t=Gt)=>{let s=Kt;e.default&&e.default!==!0&&(e=e.default,s=Object.keys(e));const i={};for(const n of s){const o=t(e[n],n);a.und(o)||(i[n]=o)}return i},Kt=["config","onProps","onStart","onChange","onPause","onResume","onRest"],Wt={config:1,from:1,to:1,ref:1,loop:1,reset:1,pause:1,cancel:1,reverse:1,immediate:1,default:1,delay:1,onProps:1,onStart:1,onChange:1,onPause:1,onResume:1,onRest:1,onResolve:1,items:1,trail:1,sort:1,expires:1,initial:1,enter:1,update:1,leave:1,children:1,onDestroyed:1,keys:1,callId:1,parentId:1};function Ht(e){const t={};let s=0;if(ie(e,(i,n)=>{Wt[n]||(t[n]=i,s++)}),s)return t}function ze(e){const t=Ht(e);if(t){const s={to:t};return ie(e,(i,n)=>n in t||(s[n]=i)),s}return M({},e)}function me(e){return e=Q(e),a.arr(e)?e.map(me):mt(e)?B.createStringInterpolator({range:[0,1],output:[e,e]})(1):e}function _t(e){for(const t in e)return!0;return!1}function ke(e){return a.fun(e)||a.arr(e)&&a.obj(e[0])}function Fe(e,t){var s;(s=e.ref)==null||s.delete(e),t==null||t.delete(e)}function vt(e,t){if(t&&e.ref!==t){var s;(s=e.ref)==null||s.delete(e),t.add(e),e.ref=t}}const Jt={default:{tension:170,friction:26},gentle:{tension:120,friction:14},wobbly:{tension:180,friction:12},stiff:{tension:210,friction:20},slow:{tension:280,friction:60},molasses:{tension:280,friction:120}},Se=1.70158,be=Se*1.525,Ye=Se+1,Ze=2*Math.PI/3,Xe=2*Math.PI/4.5,Pe=e=>e<1/2.75?7.5625*e*e:e<2/2.75?7.5625*(e-=1.5/2.75)*e+.75:e<2.5/2.75?7.5625*(e-=2.25/2.75)*e+.9375:7.5625*(e-=2.625/2.75)*e+.984375,Yt={linear:e=>e,easeInQuad:e=>e*e,easeOutQuad:e=>1-(1-e)*(1-e),easeInOutQuad:e=>e<.5?2*e*e:1-Math.pow(-2*e+2,2)/2,easeInCubic:e=>e*e*e,easeOutCubic:e=>1-Math.pow(1-e,3),easeInOutCubic:e=>e<.5?4*e*e*e:1-Math.pow(-2*e+2,3)/2,easeInQuart:e=>e*e*e*e,easeOutQuart:e=>1-Math.pow(1-e,4),easeInOutQuart:e=>e<.5?8*e*e*e*e:1-Math.pow(-2*e+2,4)/2,easeInQuint:e=>e*e*e*e*e,easeOutQuint:e=>1-Math.pow(1-e,5),easeInOutQuint:e=>e<.5?16*e*e*e*e*e:1-Math.pow(-2*e+2,5)/2,easeInSine:e=>1-Math.cos(e*Math.PI/2),easeOutSine:e=>Math.sin(e*Math.PI/2),easeInOutSine:e=>-(Math.cos(Math.PI*e)-1)/2,easeInExpo:e=>e===0?0:Math.pow(2,10*e-10),easeOutExpo:e=>e===1?1:1-Math.pow(2,-10*e),easeInOutExpo:e=>e===0?0:e===1?1:e<.5?Math.pow(2,20*e-10)/2:(2-Math.pow(2,-20*e+10))/2,easeInCirc:e=>1-Math.sqrt(1-Math.pow(e,2)),easeOutCirc:e=>Math.sqrt(1-Math.pow(e-1,2)),easeInOutCirc:e=>e<.5?(1-Math.sqrt(1-Math.pow(2*e,2)))/2:(Math.sqrt(1-Math.pow(-2*e+2,2))+1)/2,easeInBack:e=>Ye*e*e*e-Se*e*e,easeOutBack:e=>1+Ye*Math.pow(e-1,3)+Se*Math.pow(e-1,2),easeInOutBack:e=>e<.5?Math.pow(2*e,2)*((be+1)*2*e-be)/2:(Math.pow(2*e-2,2)*((be+1)*(e*2-2)+be)+2)/2,easeInElastic:e=>e===0?0:e===1?1:-Math.pow(2,10*e-10)*Math.sin((e*10-10.75)*Ze),easeOutElastic:e=>e===0?0:e===1?1:Math.pow(2,-10*e)*Math.sin((e*10-.75)*Ze)+1,easeInOutElastic:e=>e===0?0:e===1?1:e<.5?-(Math.pow(2,20*e-10)*Math.sin((20*e-11.125)*Xe))/2:Math.pow(2,-20*e+10)*Math.sin((20*e-11.125)*Xe)/2+1,easeInBounce:e=>1-Pe(1-e),easeOutBounce:Pe,easeInOutBounce:e=>e<.5?(1-Pe(1-2*e))/2:(1+Pe(2*e-1))/2},je=M({},Jt.default,{mass:1,damping:1,easing:Yt.linear,clamp:!1});class Zt{constructor(){this.tension=void 0,this.friction=void 0,this.frequency=void 0,this.damping=void 0,this.mass=void 0,this.velocity=0,this.restVelocity=void 0,this.precision=void 0,this.progress=void 0,this.duration=void 0,this.easing=void 0,this.clamp=void 0,this.bounce=void 0,this.decay=void 0,this.round=void 0,Object.assign(this,je)}}function Xt(e,t,s){s&&(s=M({},s),et(s,t),t=M({},s,t)),et(e,t),Object.assign(e,t);for(const c in je)e[c]==null&&(e[c]=je[c]);let{mass:i,frequency:n,damping:o}=e;return a.und(n)||(n<.01&&(n=.01),o<0&&(o=0),e.tension=Math.pow(2*Math.PI/n,2)*i,e.friction=4*Math.PI*o*i/n),e}function et(e,t){if(!a.und(t.decay))e.duration=void 0;else{const s=!a.und(t.tension)||!a.und(t.friction);(s||!a.und(t.frequency)||!a.und(t.damping)||!a.und(t.mass))&&(e.duration=void 0,e.decay=void 0),s&&(e.frequency=void 0)}}const tt=[];class es{constructor(){this.changed=!1,this.values=tt,this.toValues=null,this.fromValues=tt,this.to=void 0,this.from=void 0,this.config=new Zt,this.immediate=!1}}function bt(e,{key:t,props:s,defaultProps:i,state:n,actions:o}){return new Promise((c,f)=>{var r;let d,l,u=de((r=s.cancel)!=null?r:i==null?void 0:i.cancel,t);if(u)h();else{a.und(s.pause)||(n.paused=de(s.pause,t));let g=i==null?void 0:i.pause;g!==!0&&(g=n.paused||de(g,t)),d=q(s.delay||0,t),g?(n.resumeQueue.add(I),o.pause()):(o.resume(),I())}function p(){n.resumeQueue.add(I),n.timeouts.delete(l),l.cancel(),d=l.time-L.now()}function I(){d>0&&!B.skipAnimation?(n.delayed=!0,l=L.setTimeout(h,d),n.pauseQueue.add(p),n.timeouts.add(l)):h()}function h(){n.delayed&&(n.delayed=!1),n.pauseQueue.delete(p),n.timeouts.delete(l),e<=(n.cancelId||0)&&(u=!0);try{o.start(M({},s,{callId:e,cancel:u}),c)}catch(g){f(g)}}})}const Le=(e,t)=>t.length==1?t[0]:t.some(s=>s.cancelled)?ne(e.get()):t.every(s=>s.noop)?Pt(e.get()):z(e.get(),t.every(s=>s.finished)),Pt=e=>({value:e,noop:!0,finished:!0,cancelled:!1}),z=(e,t,s=!1)=>({value:e,finished:t,cancelled:s}),ne=e=>({value:e,cancelled:!0,finished:!1});function wt(e,t,s,i){const{callId:n,parentId:o,onRest:c}=t,{asyncTo:f,promise:r}=s;return!o&&e===f&&!t.reset?r:s.promise=(async()=>{s.asyncId=n,s.asyncTo=e;const d=Oe(t,(m,v)=>v==="onRest"?void 0:m);let l,u;const p=new Promise((m,v)=>(l=m,u=v)),I=m=>{const v=n<=(s.cancelId||0)&&ne(i)||n!==s.asyncId&&z(i,!1);if(v)throw m.result=v,u(m),m},h=(m,v)=>{const b=new st,_=new it;return(async()=>{if(B.skipAnimation)throw pe(s),_.result=z(i,!1),u(_),_;I(b);const S=a.obj(m)?M({},m):M({},v,{to:m});S.parentId=n,ie(d,(T,D)=>{a.und(S[D])&&(S[D]=T)});const A=await i.start(S);return I(b),s.paused&&await new Promise(T=>{s.resumeQueue.add(T)}),A})()};let g;if(B.skipAnimation)return pe(s),z(i,!1);try{let m;a.arr(e)?m=(async v=>{for(const b of v)await h(b)})(e):m=Promise.resolve(e(h,i.stop.bind(i))),await Promise.all([m.then(l),p]),g=z(i.get(),!0,!1)}catch(m){if(m instanceof st)g=m.result;else if(m instanceof it)g=m.result;else throw m}finally{n==s.asyncId&&(s.asyncId=o,s.asyncTo=o?f:void 0,s.promise=o?r:void 0)}return a.fun(c)&&L.batchedUpdates(()=>{c(g,i,i.item)}),g})()}function pe(e,t){we(e.timeouts,s=>s.cancel()),e.pauseQueue.clear(),e.resumeQueue.clear(),e.asyncId=e.asyncTo=e.promise=void 0,t&&(e.cancelId=t)}class st extends Error{constructor(){super("An async animation has been interrupted. You see this error because you forgot to use `await` or `.catch(...)` on its returned promise."),this.result=void 0}}class it extends Error{constructor(){super("SkipAnimationSignal"),this.result=void 0}}const qe=e=>e instanceof xe;let ts=1;class xe extends ht{constructor(...t){super(...t),this.id=ts++,this.key=void 0,this._priority=0}get priority(){return this._priority}set priority(t){this._priority!=t&&(this._priority=t,this._onPriorityChange(t))}get(){const t=J(this);return t&&t.getValue()}to(...t){return B.to(this,t)}interpolate(...t){return Qt(),B.to(this,t)}toJSON(){return this.get()}observerAdded(t){t==1&&this._attach()}observerRemoved(t){t==0&&this._detach()}_attach(){}_detach(){}_onChange(t,s=!1){he(this,{type:"change",parent:this,value:t,idle:s})}_onPriorityChange(t){this.idle||Qe.sort(this),he(this,{type:"priority",parent:this,priority:t})}}const se=Symbol.for("SpringPhase"),It=1,St=2,Mt=4,Ae=e=>(e[se]&It)>0,Z=e=>(e[se]&St)>0,ae=e=>(e[se]&Mt)>0,nt=(e,t)=>t?e[se]|=St|It:e[se]&=-3,ot=(e,t)=>t?e[se]|=Mt:e[se]&=-5;class ss extends xe{constructor(t,s){if(super(),this.key=void 0,this.animation=new es,this.queue=void 0,this.defaultProps={},this._state={paused:!1,delayed:!1,pauseQueue:new Set,resumeQueue:new Set,timeouts:new Set},this._pendingCalls=new Set,this._lastCallId=0,this._lastToId=0,this._memoizedDuration=0,!a.und(t)||!a.und(s)){const i=a.obj(t)?M({},t):M({},s,{from:t});a.und(i.default)&&(i.default=!0),this.start(i)}}get idle(){return!(Z(this)||this._state.asyncTo)||ae(this)}get goal(){return Q(this.animation.to)}get velocity(){const t=J(this);return t instanceof $t?t.lastVelocity||0:t.getPayload().map(s=>s.lastVelocity||0)}get hasAnimated(){return Ae(this)}get isAnimating(){return Z(this)}get isPaused(){return ae(this)}get isDelayed(){return this._state.delayed}advance(t){let s=!0,i=!1;const n=this.animation;let{config:o,toValues:c}=n;const f=De(n.to);!f&&x(n.to)&&(c=j(Q(n.to))),n.values.forEach((l,u)=>{if(l.done)return;const p=l.constructor==We?1:f?f[u].lastPosition:c[u];let I=n.immediate,h=p;if(!I){if(h=l.lastPosition,o.tension<=0){l.done=!0;return}let g=l.elapsedTime+=t;const m=n.fromValues[u],v=l.v0!=null?l.v0:l.v0=a.arr(o.velocity)?o.velocity[u]:o.velocity;let b;if(a.und(o.duration))if(o.decay){const _=o.decay===!0?.998:o.decay,S=Math.exp(-(1-_)*g);h=m+v/(1-_)*(1-S),I=Math.abs(l.lastPosition-h)<.1,b=v*S}else{b=l.lastVelocity==null?v:l.lastVelocity;const _=o.precision||(m==p?.005:Math.min(1,Math.abs(p-m)*.001)),S=o.restVelocity||_/10,A=o.clamp?0:o.bounce,T=!a.und(A),D=m==p?l.v0>0:m<p;let V,G=!1;const O=1,X=Math.ceil(t/O);for(let N=0;N<X&&(V=Math.abs(b)>S,!(!V&&(I=Math.abs(p-h)<=_,I)));++N){T&&(G=h==p||h>p==D,G&&(b=-b*A,h=p));const K=-o.tension*1e-6*(h-p),y=-o.friction*.001*b,P=(K+y)/o.mass;b=b+P*O,h=h+b*O}}else{let _=1;o.duration>0&&(this._memoizedDuration!==o.duration&&(this._memoizedDuration=o.duration,l.durationProgress>0&&(l.elapsedTime=o.duration*l.durationProgress,g=l.elapsedTime+=t)),_=(o.progress||0)+g/this._memoizedDuration,_=_>1?1:_<0?0:_,l.durationProgress=_),h=m+o.easing(_)*(p-m),b=(h-l.lastPosition)/t,I=_==1}l.lastVelocity=b,Number.isNaN(h)&&(console.warn("Got NaN while animating:",this),I=!0)}f&&!f[u].done&&(I=!1),I?l.done=!0:s=!1,l.setValue(h,o.round)&&(i=!0)});const r=J(this),d=r.getValue();if(s){const l=Q(n.to);(d!==l||i)&&!o.decay?(r.setValue(l),this._onChange(l)):i&&o.decay&&this._onChange(d),this._stop()}else i&&this._onChange(d)}set(t){return L.batchedUpdates(()=>{this._stop(),this._focus(t),this._set(t)}),this}pause(){this._update({pause:!0})}resume(){this._update({pause:!1})}finish(){if(Z(this)){const{to:t,config:s}=this.animation;L.batchedUpdates(()=>{this._onStart(),s.decay||this._set(t,!1),this._stop()})}return this}update(t){return(this.queue||(this.queue=[])).push(t),this}start(t,s){let i;return a.und(t)?(i=this.queue||[],this.queue=[]):i=[a.obj(t)?t:M({},s,{to:t})],Promise.all(i.map(n=>this._update(n))).then(n=>Le(this,n))}stop(t){const{to:s}=this.animation;return this._focus(this.get()),pe(this._state,t&&this._lastCallId),L.batchedUpdates(()=>this._stop(s,t)),this}reset(){this._update({reset:!0})}eventObserved(t){t.type=="change"?this._start():t.type=="priority"&&(this.priority=t.priority+1)}_prepareNode(t){const s=this.key||"";let{to:i,from:n}=t;i=a.obj(i)?i[s]:i,(i==null||ke(i))&&(i=void 0),n=a.obj(n)?n[s]:n,n==null&&(n=void 0);const o={to:i,from:n};return Ae(this)||(t.reverse&&([i,n]=[n,i]),n=Q(n),a.und(n)?J(this)||this._set(i):this._set(n)),o}_update(t,s){let i=M({},t);const{key:n,defaultProps:o}=this;i.default&&Object.assign(o,Oe(i,(r,d)=>/^on/.test(d)?gt(r,n):r)),rt(this,i,"onProps"),ue(this,"onProps",i,this);const c=this._prepareNode(i);if(Object.isFrozen(this))throw Error("Cannot animate a `SpringValue` object that is frozen. Did you forget to pass your component to `animated(...)` before animating its props?");const f=this._state;return bt(++this._lastCallId,{key:n,props:i,defaultProps:o,state:f,actions:{pause:()=>{ae(this)||(ot(this,!0),le(f.pauseQueue),ue(this,"onPause",z(this,re(this,this.animation.to)),this))},resume:()=>{ae(this)&&(ot(this,!1),Z(this)&&this._resume(),le(f.resumeQueue),ue(this,"onResume",z(this,re(this,this.animation.to)),this))},start:this._merge.bind(this,c)}}).then(r=>{if(i.loop&&r.finished&&!(s&&r.noop)){const d=Ot(i);if(d)return this._update(d,!0)}return r})}_merge(t,s,i){if(s.cancel)return this.stop(!0),i(ne(this));const n=!a.und(t.to),o=!a.und(t.from);if(n||o)if(s.callId>this._lastToId)this._lastToId=s.callId;else return i(ne(this));const{key:c,defaultProps:f,animation:r}=this,{to:d,from:l}=r;let{to:u=d,from:p=l}=t;o&&!n&&(!s.default||a.und(u))&&(u=p),s.reverse&&([u,p]=[p,u]);const I=!H(p,l);I&&(r.from=p),p=Q(p);const h=!H(u,d);h&&this._focus(u);const g=ke(s.to),{config:m}=r,{decay:v,velocity:b}=m;(n||o)&&(m.velocity=0),s.config&&!g&&Xt(m,q(s.config,c),s.config!==f.config?q(f.config,c):void 0);let _=J(this);if(!_||a.und(u))return i(z(this,!0));const S=a.und(s.reset)?o&&!s.default:!a.und(p)&&de(s.reset,c),A=S?p:this.get(),T=me(u),D=a.num(T)||a.arr(T)||mt(T),V=!g&&(!D||de(f.immediate||s.immediate,c));if(h){const N=Ve(u);if(N!==_.constructor)if(V)_=this._set(T);else throw Error(`Cannot animate between ${_.constructor.name} and ${N.name}, as the "to" prop suggests`)}const G=_.constructor;let O=x(u),X=!1;if(!O){const N=S||!Ae(this)&&I;(h||N)&&(X=H(me(A),T),O=!X),(!H(r.immediate,V)&&!V||!H(m.decay,v)||!H(m.velocity,b))&&(O=!0)}if(X&&Z(this)&&(r.changed&&!S?O=!0:O||this._stop(d)),!g&&((O||x(d))&&(r.values=_.getPayload(),r.toValues=x(u)?null:G==We?[1]:j(T)),r.immediate!=V&&(r.immediate=V,!V&&!S&&this._set(d)),O)){const{onRest:N}=r;w(ns,y=>rt(this,s,y));const K=z(this,re(this,d));le(this._pendingCalls,K),this._pendingCalls.add(i),r.changed&&L.batchedUpdates(()=>{r.changed=!S,N==null||N(K,this),S?q(f.onRest,K):r.onStart==null||r.onStart(K,this)})}S&&this._set(A),g?i(wt(s.to,s,this._state,this)):O?this._start():Z(this)&&!h?this._pendingCalls.add(i):i(Pt(A))}_focus(t){const s=this.animation;t!==s.to&&(He(this)&&this._detach(),s.to=t,He(this)&&this._attach())}_attach(){let t=0;const{to:s}=this.animation;x(s)&&(ye(s,this),qe(s)&&(t=s.priority+1)),this.priority=t}_detach(){const{to:t}=this.animation;x(t)&&$e(t,this)}_set(t,s=!0){const i=Q(t);if(!a.und(i)){const n=J(this);if(!n||!H(i,n.getValue())){const o=Ve(i);!n||n.constructor!=o?ft(this,o.create(i)):n.setValue(i),n&&L.batchedUpdates(()=>{this._onChange(i,s)})}}return J(this)}_onStart(){const t=this.animation;t.changed||(t.changed=!0,ue(this,"onStart",z(this,re(this,t.to)),this))}_onChange(t,s){s||(this._onStart(),q(this.animation.onChange,t,this)),q(this.defaultProps.onChange,t,this),super._onChange(t,s)}_start(){const t=this.animation;J(this).reset(Q(t.to)),t.immediate||(t.fromValues=t.values.map(s=>s.lastPosition)),Z(this)||(nt(this,!0),ae(this)||this._resume())}_resume(){B.skipAnimation?this.finish():Qe.start(this)}_stop(t,s){if(Z(this)){nt(this,!1);const i=this.animation;w(i.values,o=>{o.done=!0}),i.toValues&&(i.onChange=i.onPause=i.onResume=void 0),he(this,{type:"idle",parent:this});const n=s?ne(this.get()):z(this.get(),re(this,t??i.to));le(this._pendingCalls,n),i.changed&&(i.changed=!1,ue(this,"onRest",n,this))}}}function re(e,t){const s=me(t),i=me(e.get());return H(i,s)}function Ot(e,t=e.loop,s=e.to){let i=q(t);if(i){const n=i!==!0&&ze(i),o=(n||e).reverse,c=!n||n.reset;return ge(M({},e,{loop:t,default:!1,pause:void 0,to:!o||ke(s)?s:void 0,from:c?e.from:void 0,reset:c},n))}}function ge(e){const{to:t,from:s}=e=ze(e),i=new Set;return a.obj(t)&&at(t,i),a.obj(s)&&at(s,i),e.keys=i.size?Array.from(i):null,e}function is(e){const t=ge(e);return a.und(t.default)&&(t.default=Oe(t)),t}function at(e,t){ie(e,(s,i)=>s!=null&&t.add(i))}const ns=["onStart","onRest","onChange","onPause","onResume"];function rt(e,t,s){e.animation[s]=t[s]!==yt(t,s)?gt(t[s],e.key):void 0}function ue(e,t,...s){var i,n,o,c;(i=(n=e.animation)[t])==null||i.call(n,...s),(o=(c=e.defaultProps)[t])==null||o.call(c,...s)}const os=["onStart","onChange","onRest"];let as=1;class Ct{constructor(t,s){this.id=as++,this.springs={},this.queue=[],this.ref=void 0,this._flush=void 0,this._initialProps=void 0,this._lastAsyncId=0,this._active=new Set,this._changed=new Set,this._started=!1,this._item=void 0,this._state={paused:!1,pauseQueue:new Set,resumeQueue:new Set,timeouts:new Set},this._events={onStart:new Map,onChange:new Map,onRest:new Map},this._onFrame=this._onFrame.bind(this),s&&(this._flush=s),t&&this.start(M({default:!0},t))}get idle(){return!this._state.asyncTo&&Object.values(this.springs).every(t=>t.idle&&!t.isDelayed&&!t.isPaused)}get item(){return this._item}set item(t){this._item=t}get(){const t={};return this.each((s,i)=>t[i]=s.get()),t}set(t){for(const s in t){const i=t[s];a.und(i)||this.springs[s].set(i)}}update(t){return t&&this.queue.push(ge(t)),this}start(t){let{queue:s}=this;return t?s=j(t).map(ge):this.queue=[],this._flush?this._flush(this,s):(Vt(this,s),Ne(this,s))}stop(t,s){if(t!==!!t&&(s=t),s){const i=this.springs;w(j(s),n=>i[n].stop(!!t))}else pe(this._state,this._lastAsyncId),this.each(i=>i.stop(!!t));return this}pause(t){if(a.und(t))this.start({pause:!0});else{const s=this.springs;w(j(t),i=>s[i].pause())}return this}resume(t){if(a.und(t))this.start({pause:!1});else{const s=this.springs;w(j(t),i=>s[i].resume())}return this}each(t){ie(this.springs,t)}_onFrame(){const{onStart:t,onChange:s,onRest:i}=this._events,n=this._active.size>0,o=this._changed.size>0;(n&&!this._started||o&&!this._started)&&(this._started=!0,we(t,([r,d])=>{d.value=this.get(),r(d,this,this._item)}));const c=!n&&this._started,f=o||c&&i.size?this.get():null;o&&s.size&&we(s,([r,d])=>{d.value=f,r(d,this,this._item)}),c&&(this._started=!1,we(i,([r,d])=>{d.value=f,r(d,this,this._item)}))}eventObserved(t){if(t.type=="change")this._changed.add(t.parent),t.idle||this._active.add(t.parent);else if(t.type=="idle")this._active.delete(t.parent);else return;L.onFrame(this._onFrame)}}function Ne(e,t){return Promise.all(t.map(s=>At(e,s))).then(s=>Le(e,s))}async function At(e,t,s){const{keys:i,to:n,from:o,loop:c,onRest:f,onResolve:r}=t,d=a.obj(t.default)&&t.default;c&&(t.loop=!1),n===!1&&(t.to=null),o===!1&&(t.from=null);const l=a.arr(n)||a.fun(n)?n:void 0;l?(t.to=void 0,t.onRest=void 0,d&&(d.onRest=void 0)):w(os,g=>{const m=t[g];if(a.fun(m)){const v=e._events[g];t[g]=({finished:b,cancelled:_})=>{const S=v.get(m);S?(b||(S.finished=!1),_&&(S.cancelled=!0)):v.set(m,{value:null,finished:b||!1,cancelled:_||!1})},d&&(d[g]=t[g])}});const u=e._state;t.pause===!u.paused?(u.paused=t.pause,le(t.pause?u.pauseQueue:u.resumeQueue)):u.paused&&(t.pause=!0);const p=(i||Object.keys(e.springs)).map(g=>e.springs[g].start(t)),I=t.cancel===!0||yt(t,"cancel")===!0;(l||I&&u.asyncId)&&p.push(bt(++e._lastAsyncId,{props:t,state:u,actions:{pause:Je,resume:Je,start(g,m){I?(pe(u,e._lastAsyncId),m(ne(e))):(g.onRest=f,m(wt(l,g,u,e)))}}})),u.paused&&await new Promise(g=>{u.resumeQueue.add(g)});const h=Le(e,await Promise.all(p));if(c&&h.finished&&!(s&&h.noop)){const g=Ot(t,c,n);if(g)return Vt(e,[g]),At(e,g,!0)}return r&&L.batchedUpdates(()=>r(h,e,e.item)),h}function Ue(e,t){const s=M({},e.springs);return t&&w(j(t),i=>{a.und(i.keys)&&(i=ge(i)),a.obj(i.to)||(i=M({},i,{to:void 0})),Tt(s,i,n=>Rt(n))}),Et(e,s),s}function Et(e,t){ie(t,(s,i)=>{e.springs[i]||(e.springs[i]=s,ye(s,e))})}function Rt(e,t){const s=new ss;return s.key=e,t&&ye(s,t),s}function Tt(e,t,s){t.keys&&w(t.keys,i=>{(e[i]||(e[i]=s(i)))._prepareNode(t)})}function Vt(e,t){w(t,s=>{Tt(e.springs,s,i=>Rt(i,e))})}function rs(e,t){if(e==null)return{};var s={},i=Object.keys(e),n,o;for(o=0;o<i.length;o++)n=i[o],!(t.indexOf(n)>=0)&&(s[n]=e[n]);return s}const us=["children"],_e=e=>{let{children:t}=e,s=rs(e,us);const i=C.useContext(Me),n=s.pause||!!i.pause,o=s.immediate||!!i.immediate;s=Nt(()=>({pause:n,immediate:o}),[n,o]);const{Provider:c}=Me;return C.createElement(c,{value:s},t)},Me=cs(_e,{});_e.Provider=Me.Provider;_e.Consumer=Me.Consumer;function cs(e,t){return Object.assign(e,C.createContext(t)),e.Provider._context=e,e.Consumer._context=e,e}const Be=()=>{const e=[],t=function(n){Dt();const o=[];return w(e,(c,f)=>{if(a.und(n))o.push(c.start());else{const r=s(n,c,f);r&&o.push(c.start(r))}}),o};t.current=e,t.add=function(i){e.includes(i)||e.push(i)},t.delete=function(i){const n=e.indexOf(i);~n&&e.splice(n,1)},t.pause=function(){return w(e,i=>i.pause(...arguments)),this},t.resume=function(){return w(e,i=>i.resume(...arguments)),this},t.set=function(i){w(e,n=>n.set(i))},t.start=function(i){const n=[];return w(e,(o,c)=>{if(a.und(i))n.push(o.start());else{const f=this._getProps(i,o,c);f&&n.push(o.start(f))}}),n},t.stop=function(){return w(e,i=>i.stop(...arguments)),this},t.update=function(i){return w(e,(n,o)=>n.update(this._getProps(i,n,o))),this};const s=function(n,o,c){return a.fun(n)?n(c,o):n};return t._getProps=s,t};function ls(e,t,s){const i=a.fun(t)&&t;i&&!s&&(s=[]);const n=C.useMemo(()=>i||arguments.length==3?Be():void 0,[]),o=C.useRef(0),c=lt(),f=C.useMemo(()=>({ctrls:[],queue:[],flush(v,b){const _=Ue(v,b);return o.current>0&&!f.queue.length&&!Object.keys(_).some(A=>!v.springs[A])?Ne(v,b):new Promise(A=>{Et(v,_),f.queue.push(()=>{A(Ne(v,b))}),c()})}}),[]),r=C.useRef([...f.ctrls]),d=[],l=Te(e)||0;C.useMemo(()=>{w(r.current.slice(e,l),v=>{Fe(v,n),v.stop(!0)}),r.current.length=e,u(l,e)},[e]),C.useMemo(()=>{u(0,Math.min(l,e))},s);function u(v,b){for(let _=v;_<b;_++){const S=r.current[_]||(r.current[_]=new Ct(null,f.flush)),A=i?i(_,S):t[_];A&&(d[_]=is(A))}}const p=r.current.map((v,b)=>Ue(v,d[b])),I=C.useContext(_e),h=Te(I),g=I!==h&&_t(I);ce(()=>{o.current++,f.ctrls=r.current;const{queue:v}=f;v.length&&(f.queue=[],w(v,b=>b())),w(r.current,(b,_)=>{n==null||n.add(b),g&&b.start({default:I});const S=d[_];S&&(vt(b,S.ref),b.ref?b.queue.push(S):b.start(S))})}),dt(()=>()=>{w(f.ctrls,v=>v.stop(!0))});const m=p.map(v=>M({},v));return n?[m,n]:m}function Vs(e,t){const s=a.fun(e),[[i],n]=ls(1,s?e:[e],s?[]:t);return s||arguments.length==2?[i,n]:i}const ds=()=>Be(),ks=()=>C.useState(ds)[0];let F;(function(e){e.MOUNT="mount",e.ENTER="enter",e.UPDATE="update",e.LEAVE="leave"})(F||(F={}));function Fs(e,t,s){const i=a.fun(t)&&t,{reset:n,sort:o,trail:c=0,expires:f=!0,exitBeforeEnter:r=!1,onDestroyed:d,ref:l,config:u}=i?i():t,p=C.useMemo(()=>i||arguments.length==3?Be():void 0,[]),I=j(e),h=[],g=C.useRef(null),m=n?null:g.current;ce(()=>{g.current=h}),dt(()=>(w(g.current,y=>{var P;(P=y.ctrl.ref)==null||P.add(y.ctrl);const E=D.get(y);E&&y.ctrl.start(E.payload)}),()=>{w(g.current,y=>{y.expired&&clearTimeout(y.expirationId),Fe(y.ctrl,p),y.ctrl.stop(!0)})}));const v=hs(I,i?i():t,m),b=n&&g.current||[];ce(()=>w(b,({ctrl:y,item:P,key:E})=>{Fe(y,p),q(d,P,E)}));const _=[];if(m&&w(m,(y,P)=>{y.expired?(clearTimeout(y.expirationId),b.push(y)):(P=_[P]=v.indexOf(y.key),~P&&(h[P]=y))}),w(I,(y,P)=>{h[P]||(h[P]={key:v[P],item:y,phase:F.MOUNT,ctrl:new Ct},h[P].ctrl.item=y)}),_.length){let y=-1;const{leave:P}=i?i():t;w(_,(E,k)=>{const R=m[k];~E?(y=h.indexOf(R),h[y]=M({},R,{item:I[E]})):P&&h.splice(++y,0,R)})}a.fun(o)&&h.sort((y,P)=>o(y.item,P.item));let S=-c;const A=lt(),T=Oe(t),D=new Map,V=C.useRef(new Map),G=C.useRef(!1);w(h,(y,P)=>{const E=y.key,k=y.phase,R=i?i():t;let U,W,jt=q(R.delay||0,E);if(k==F.MOUNT)U=R.enter,W=F.ENTER;else{const $=v.indexOf(E)<0;if(k!=F.LEAVE)if($)U=R.leave,W=F.LEAVE;else if(U=R.update)W=F.UPDATE;else return;else if(!$)U=R.enter,W=F.ENTER;else return}if(U=q(U,y.item,P),U=a.obj(U)?ze(U):{to:U},!U.config){const $=u||T.config;U.config=q($,y.item,P,W)}S+=c;const ee=M({},T,{delay:jt+S,ref:l,immediate:R.immediate,reset:!1},U);if(W==F.ENTER&&a.und(ee.from)){const $=i?i():t,oe=a.und($.initial)||m?$.from:$.initial;ee.from=q(oe,y.item,P)}const{onResolve:qt}=ee;ee.onResolve=$=>{q(qt,$);const oe=g.current,Y=oe.find(ve=>ve.key===E);if(Y&&!($.cancelled&&Y.phase!=F.UPDATE)&&Y.ctrl.idle){const ve=oe.every(te=>te.ctrl.idle);if(Y.phase==F.LEAVE){const te=q(f,Y.item);if(te!==!1){const Ce=te===!0?0:te;if(Y.expired=!0,!ve&&Ce>0){Ce<=2147483647&&(Y.expirationId=setTimeout(A,Ce));return}}}ve&&oe.some(te=>te.expired)&&(V.current.delete(Y),r&&(G.current=!0),A())}};const Ke=Ue(y.ctrl,ee);W===F.LEAVE&&r?V.current.set(y,{phase:W,springs:Ke,payload:ee}):D.set(y,{phase:W,springs:Ke,payload:ee})});const O=C.useContext(_e),X=Te(O),N=O!==X&&_t(O);ce(()=>{N&&w(h,y=>{y.ctrl.start({default:O})})},[O]),w(D,(y,P)=>{if(V.current.size){const E=h.findIndex(k=>k.key===P.key);h.splice(E,1)}}),ce(()=>{w(V.current.size?V.current:D,({phase:y,payload:P},E)=>{const{ctrl:k}=E;E.phase=y,p==null||p.add(k),N&&y==F.ENTER&&k.start({default:O}),P&&(vt(k,P.ref),k.ref&&!G.current?k.update(P):(k.start(P),G.current&&(G.current=!1)))})},n?void 0:s);const K=y=>C.createElement(C.Fragment,null,h.map((P,E)=>{const{springs:k}=D.get(P)||P.ctrl,R=y(M({},k),P.item,P,E);return R&&R.type?C.createElement(R.type,M({},R.props,{key:a.str(P.key)||a.num(P.key)?P.key:P.ctrl.id,ref:R.ref})):R}));return p?[K,p]:K}let fs=1;function hs(e,{key:t,keys:s=t},i){if(s===null){const n=new Set;return e.map(o=>{const c=i&&i.find(f=>f.item===o&&f.phase!==F.LEAVE&&!n.has(f));return c?(n.add(c),c.key):fs++})}return a.und(s)?e:a.fun(s)?e.map(s):j(s)}class kt extends xe{constructor(t,s){super(),this.key=void 0,this.idle=!0,this.calc=void 0,this._active=new Set,this.source=t,this.calc=Ut(...s);const i=this._get(),n=Ve(i);ft(this,n.create(i))}advance(t){const s=this._get(),i=this.get();H(s,i)||(J(this).setValue(s),this._onChange(s,this.idle)),!this.idle&&ut(this._active)&&Ee(this)}_get(){const t=a.arr(this.source)?this.source.map(Q):j(Q(this.source));return this.calc(...t)}_start(){this.idle&&!ut(this._active)&&(this.idle=!1,w(De(this),t=>{t.done=!1}),B.skipAnimation?(L.batchedUpdates(()=>this.advance()),Ee(this)):Qe.start(this))}_attach(){let t=1;w(j(this.source),s=>{x(s)&&ye(s,this),qe(s)&&(s.idle||this._active.add(s),t=Math.max(t,s.priority+1))}),this.priority=t,this._start()}_detach(){w(j(this.source),t=>{x(t)&&$e(t,this)}),this._active.clear(),Ee(this)}eventObserved(t){t.type=="change"?t.idle?this.advance():(this._active.add(t.parent),this._start()):t.type=="idle"?this._active.delete(t.parent):t.type=="priority"&&(this.priority=j(this.source).reduce((s,i)=>Math.max(s,(qe(i)?i.priority:0)+1),0))}}function ms(e){return e.idle!==!1}function ut(e){return!e.size||Array.from(e).every(ms)}function Ee(e){e.idle||(e.idle=!0,w(De(e),t=>{t.done=!0}),he(e,{type:"idle",parent:e}))}const js=(e,...t)=>new kt(e,t);B.assign({createStringInterpolator:pt,to:(e,t)=>new kt(e,t)});function Ge(e,t){if(e==null)return{};var s={},i=Object.keys(e),n,o;for(o=0;o<i.length;o++)n=i[o],!(t.indexOf(n)>=0)&&(s[n]=e[n]);return s}const ps=["style","children","scrollTop","scrollLeft"],Ft=/^--/;function gs(e,t){return t==null||typeof t=="boolean"||t===""?"":typeof t=="number"&&t!==0&&!Ft.test(e)&&!(fe.hasOwnProperty(e)&&fe[e])?t+"px":(""+t).trim()}const ct={};function ys(e,t){if(!e.nodeType||!e.setAttribute)return!1;const s=e.nodeName==="filter"||e.parentNode&&e.parentNode.nodeName==="filter",i=t,{style:n,children:o,scrollTop:c,scrollLeft:f}=i,r=Ge(i,ps),d=Object.values(r),l=Object.keys(r).map(u=>s||e.hasAttribute(u)?u:ct[u]||(ct[u]=u.replace(/([A-Z])/g,p=>"-"+p.toLowerCase())));o!==void 0&&(e.textContent=o);for(let u in n)if(n.hasOwnProperty(u)){const p=gs(u,n[u]);Ft.test(u)?e.style.setProperty(u,p):e.style[u]=p}l.forEach((u,p)=>{e.setAttribute(u,d[p])}),c!==void 0&&(e.scrollTop=c),f!==void 0&&(e.scrollLeft=f)}let fe={animationIterationCount:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0};const _s=(e,t)=>e+t.charAt(0).toUpperCase()+t.substring(1),vs=["Webkit","Ms","Moz","O"];fe=Object.keys(fe).reduce((e,t)=>(vs.forEach(s=>e[_s(s,t)]=e[t]),e),fe);const bs=["x","y","z"],Ps=/^(matrix|translate|scale|rotate|skew)/,ws=/^(translate)/,Is=/^(rotate|skew)/,Re=(e,t)=>a.num(e)&&e!==0?e+t:e,Ie=(e,t)=>a.arr(e)?e.every(s=>Ie(s,t)):a.num(e)?e===t:parseFloat(e)===t;class Ss extends xt{constructor(t){let{x:s,y:i,z:n}=t,o=Ge(t,bs);const c=[],f=[];(s||i||n)&&(c.push([s||0,i||0,n||0]),f.push(r=>[`translate3d(${r.map(d=>Re(d,"px")).join(",")})`,Ie(r,0)])),ie(o,(r,d)=>{if(d==="transform")c.push([r||""]),f.push(l=>[l,l===""]);else if(Ps.test(d)){if(delete o[d],a.und(r))return;const l=ws.test(d)?"px":Is.test(d)?"deg":"";c.push(j(r)),f.push(d==="rotate3d"?([u,p,I,h])=>[`rotate3d(${u},${p},${I},${Re(h,l)})`,Ie(h,0)]:u=>[`${d}(${u.map(p=>Re(p,l)).join(",")})`,Ie(u,d.startsWith("scale")?1:0)])}}),c.length&&(o.transform=new Ms(c,f)),super(o)}}class Ms extends ht{constructor(t,s){super(),this._value=null,this.inputs=t,this.transforms=s}get(){return this._value||(this._value=this._get())}_get(){let t="",s=!0;return w(this.inputs,(i,n)=>{const o=Q(i[0]),[c,f]=this.transforms[n](a.arr(o)?o:i.map(Q));t+=" "+c,s=s&&f}),s?"none":t}observerAdded(t){t==1&&w(this.inputs,s=>w(s,i=>x(i)&&ye(i,this)))}observerRemoved(t){t==0&&w(this.inputs,s=>w(s,i=>x(i)&&$e(i,this)))}eventObserved(t){t.type=="change"&&(this._value=null),he(this,t)}}const Os=["a","abbr","address","area","article","aside","audio","b","base","bdi","bdo","big","blockquote","body","br","button","canvas","caption","cite","code","col","colgroup","data","datalist","dd","del","details","dfn","dialog","div","dl","dt","em","embed","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","iframe","img","input","ins","kbd","keygen","label","legend","li","link","main","map","mark","menu","menuitem","meta","meter","nav","noscript","object","ol","optgroup","option","output","p","param","picture","pre","progress","q","rp","rt","ruby","s","samp","script","section","select","small","source","span","strong","style","sub","summary","sup","table","tbody","td","textarea","tfoot","th","thead","time","title","tr","track","u","ul","var","video","wbr","circle","clipPath","defs","ellipse","foreignObject","g","image","line","linearGradient","mask","path","pattern","polygon","polyline","radialGradient","rect","stop","svg","text","tspan"],Cs=["scrollTop","scrollLeft"];B.assign({batchedUpdates:Bt.unstable_batchedUpdates,createStringInterpolator:pt,colors:Lt});const As=zt(Os,{applyAnimatedValues:ys,createAnimatedStyle:e=>new Ss(e),getComponentProps:e=>Ge(e,Cs)}),qs=As.animated;export{qs as a,ls as b,Jt as c,Fs as d,Yt as e,ks as f,js as t,Vs as u};
//# sourceMappingURL=https://web-sourcemaps.shopify.io/v1/en/react-spring-web.esm-BOY3iVmaUFuM.js.map
