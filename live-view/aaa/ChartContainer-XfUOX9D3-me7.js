import{X as g}from"./router-D2A3v33YTGz9.js";import{b6 as _}from"./common-BQgXWrz2O5Bt.js";import{u as j,a as P,b as pt,e as xt,g as ln,c as dn,d as hn,C as fn}from"./estimateStringWidthWithOffset-BtLey8F0hhhu.js";import{R as Ft}from"./ResizeObserver-D_CoWKkzIdYR.js";import{c as gn}from"./string-rljVTuBHpzxT.js";import{b as Kt,a as K,u as Qt,t as mn,c as pn,e as q}from"./react-spring-web.esm-BOY3iVmaUFuM.js";import{Y as It,a2 as bt,a3 as Jt,a4 as xn,a5 as _n,c as yn,s as B,a6 as Mt,a7 as wn,a8 as An,a9 as En,aa as vn,ab as Tn,ac as Ln,v as In,F as $n,f as Cn,e as D,ad as Sn,U as Rn,ae as bn,q as tn,C as Dn,af as Nn,ag as On}from"./PolarisVizContext-DMg2GlMLMFOp.js";import{a as jt,u as nn}from"./useUniqueId-DgOphXTvxuqE.js";function _t({amount:t,min:n,max:e}){return t<n?n:e!=null&&t>e?e:t}function ur(t,n){if(t===1)return[n.seriesColors.single];const e=[...n.seriesColors.all];if(t<=e.length)return e;let r=-1;return[...Array.from({length:t})].map(()=>(r+=1,r===e.length&&(r=0),e[r]))}function Mn(t){return t.offset!=null&&typeof t.offset=="number"&&t.color!=null&&typeof t.color=="string"}function jn(t){return Array.isArray(t)&&t.every(n=>Mn(n))}const it=t=>t===0?!0:t!=null,Bn=t=>{var n;const e=/\d+/g,[r,i,s,c]=((n=t.match(e))===null||n===void 0?void 0:n.map(a=>it(a)?a:null))||[],o=it(i),u=o?i:r;return{paddingTop:Number(r),paddingRight:Number(o?i:r),paddingBottom:Number(it(s)?s:r),paddingLeft:Number(it(c)?c:u)}};function kn({type:t,index:n,watch:e=!0}){return{[`${It.dataAttribute}-watch`]:e,[`${It.dataAttribute}-type`]:t,[`${It.dataAttribute}-index`]:n}}function Pn({activeIndex:t,index:n,fadedOpacity:e=Jt}){return{opacity:t===-1?bt:t===n?bt:e,transition:"opacity 100ms ease"}}const st=t=>t===0?!0:t!=null,Hn=t=>{var n;const e=/\d+/g,[r,i,s,c]=((n=t.match(e))===null||n===void 0?void 0:n.map(a=>st(a)?a:null))||[],o=st(i),u=o?i:r;return{topLeft:Number(r),topRight:Number(o?i:r),bottomRight:Number(st(s)?s:r),bottomLeft:Number(st(c)?c:u)}};function ot(t){return Math.abs(_t({amount:t,min:0}))}function Fn({borderRadius:t,height:n,width:e}){if(n==null||e==null)return"";let{topLeft:r,topRight:i,bottomRight:s,bottomLeft:c}=Hn(t);const o=Math.min(n,e);r=Math.min(r,o/2),i=Math.min(i,o/2),s=Math.min(s,o/2),c=Math.min(c,o/2);const u=r+i,a=i+s,d=s+c,l=c+r;return`
  M${r},0
  h${ot(e-u)}
  a${i},${i} 0 0 1 ${i},${i}
  v${ot(n-a)}
  a${s},${s} 0 0 1 -${s},${s}
  h-${ot(e-d)}
  a${c},${c} 0 0 1 -${c},-${c}
  v-${ot(n-l)}
  a${r},${r} 0 0 1 ${r},-${r}
  Z
`}function Bt(t,n=1){const e=gn(t);if(e==null)throw new Error("Color value is not valid.");return e.opacity=n,e.toString()}function lr(t,n=1){return t.map(({offset:e,color:r})=>({offset:e,color:Bt(r,n)}))}function Gn(t){return Object.prototype.hasOwnProperty.call(t,"shape")&&Object.prototype.hasOwnProperty.call(t,"series")}function en(t){if(t.length>0){const[n]=t;return Gn(n)}return!1}function Wn(t){if(t.data&&t.data.length>0){const[n]=t.data;return Object.prototype.hasOwnProperty.call(n,"value")&&Object.prototype.hasOwnProperty.call(n,"key")}return!1}function zn(t){if(t.length>0){const[n]=t;return Wn(n)}return!1}const Gt=(t,n)=>t.some(e=>e.data.length>n);function Vn(t,n){let e=!1;if(n==null)return!1;const r=_n[n];if(r==null)return!1;zn(t)&&(e=Gt(t,r)),en(t)&&(e=t.some(s=>Gt(s.series,r)));const i=t.length>xn;return e||i}function Yn(t){return jn(t)?t:[{color:t,offset:0},{color:t,offset:1}]}function dr(t){return t===1/0||t===-1/0}function Un(){return"ontouchstart"in window||navigator.maxTouchPoints>0}function Xn(t){return t.map(({metadata:n},e)=>{if((n==null?void 0:n.comparisonIndex)!=null)return{originalIndex:e,comparisonIndex:n.comparisonIndex}}).filter(Boolean)}function rn(){return _.useContext(yn)}function Zn(t){const n=_.useRef(t);return _.useEffect(()=>{n.current=t},[t]),n.current}function sn({animationDelay:t=0,shouldAnimate:n=!0,mountedSpringConfig:e,unmountedSpringConfig:r}){const i=_.useRef(!1),s=n?t:0;return{config:i.current?e:r,default:{immediate:!n},delay:i.current?0:s,onRest:()=>i.current=!0}}const Dt=Math.PI,Nt=2*Dt,Y=1e-6,qn=Nt-Y;function Ot(){this._x0=this._y0=this._x1=this._y1=null,this._=""}function on(){return new Ot}Ot.prototype=on.prototype={constructor:Ot,moveTo:function(t,n){this._+="M"+(this._x0=this._x1=+t)+","+(this._y0=this._y1=+n)},closePath:function(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._+="Z")},lineTo:function(t,n){this._+="L"+(this._x1=+t)+","+(this._y1=+n)},quadraticCurveTo:function(t,n,e,r){this._+="Q"+ +t+","+ +n+","+(this._x1=+e)+","+(this._y1=+r)},bezierCurveTo:function(t,n,e,r,i,s){this._+="C"+ +t+","+ +n+","+ +e+","+ +r+","+(this._x1=+i)+","+(this._y1=+s)},arcTo:function(t,n,e,r,i){t=+t,n=+n,e=+e,r=+r,i=+i;var s=this._x1,c=this._y1,o=e-t,u=r-n,a=s-t,d=c-n,l=a*a+d*d;if(i<0)throw new Error("negative radius: "+i);if(this._x1===null)this._+="M"+(this._x1=t)+","+(this._y1=n);else if(l>Y)if(!(Math.abs(d*o-u*a)>Y)||!i)this._+="L"+(this._x1=t)+","+(this._y1=n);else{var m=e-s,f=r-c,h=o*o+u*u,x=m*m+f*f,p=Math.sqrt(h),v=Math.sqrt(l),A=i*Math.tan((Dt-Math.acos((h+l-x)/(2*p*v)))/2),w=A/v,E=A/p;Math.abs(w-1)>Y&&(this._+="L"+(t+w*a)+","+(n+w*d)),this._+="A"+i+","+i+",0,0,"+ +(d*m>a*f)+","+(this._x1=t+E*o)+","+(this._y1=n+E*u)}},arc:function(t,n,e,r,i,s){t=+t,n=+n,e=+e,s=!!s;var c=e*Math.cos(r),o=e*Math.sin(r),u=t+c,a=n+o,d=1^s,l=s?r-i:i-r;if(e<0)throw new Error("negative radius: "+e);this._x1===null?this._+="M"+u+","+a:(Math.abs(this._x1-u)>Y||Math.abs(this._y1-a)>Y)&&(this._+="L"+u+","+a),e&&(l<0&&(l=l%Nt+Nt),l>qn?this._+="A"+e+","+e+",0,1,"+d+","+(t-c)+","+(n-o)+"A"+e+","+e+",0,1,"+d+","+(this._x1=u)+","+(this._y1=a):l>Y&&(this._+="A"+e+","+e+",0,"+ +(l>=Dt)+","+d+","+(this._x1=t+e*Math.cos(i))+","+(this._y1=n+e*Math.sin(i))))},rect:function(t,n,e,r){this._+="M"+(this._x0=this._x1=+t)+","+(this._y0=this._y1=+n)+"h"+ +e+"v"+ +r+"h"+-e+"Z"},toString:function(){return this._}};function F(t){return function(){return t}}const Wt=Math.abs,R=Math.atan2,z=Math.cos,Kn=Math.max,$t=Math.min,k=Math.sin,Z=Math.sqrt,N=1e-12,Q=Math.PI,yt=Q/2,Qn=2*Q;function Jn(t){return t>1?0:t<-1?Q:Math.acos(t)}function zt(t){return t>=1?yt:t<=-1?-yt:Math.asin(t)}function te(t){return t.innerRadius}function ne(t){return t.outerRadius}function ee(t){return t.startAngle}function re(t){return t.endAngle}function ie(t){return t&&t.padAngle}function se(t,n,e,r,i,s,c,o){var u=e-t,a=r-n,d=c-i,l=o-s,m=l*u-d*a;if(!(m*m<N))return m=(d*(n-s)-l*(t-i))/m,[t+m*u,n+m*a]}function at(t,n,e,r,i,s,c){var o=t-e,u=n-r,a=(c?s:-s)/Z(o*o+u*u),d=a*u,l=-a*o,m=t+d,f=n+l,h=e+d,x=r+l,p=(m+h)/2,v=(f+x)/2,A=h-m,w=x-f,E=A*A+w*w,$=i-s,C=m*x-h*f,b=(w<0?-1:1)*Z(Kn(0,$*$*E-C*C)),I=(C*w-A*b)/E,L=(-C*A-w*b)/E,S=(C*w+A*b)/E,O=(-C*A+w*b)/E,y=I-p,T=L-v,G=S-p,W=O-v;return y*y+T*T>G*G+W*W&&(I=S,L=O),{cx:I,cy:L,x01:-d,y01:-l,x11:I*(i/$-1),y11:L*(i/$-1)}}function oe(){var t=te,n=ne,e=F(0),r=null,i=ee,s=re,c=ie,o=null;function u(){var a,d,l=+t.apply(this,arguments),m=+n.apply(this,arguments),f=i.apply(this,arguments)-yt,h=s.apply(this,arguments)-yt,x=Wt(h-f),p=h>f;if(o||(o=a=on()),m<l&&(d=m,m=l,l=d),!(m>N))o.moveTo(0,0);else if(x>Qn-N)o.moveTo(m*z(f),m*k(f)),o.arc(0,0,m,f,h,!p),l>N&&(o.moveTo(l*z(h),l*k(h)),o.arc(0,0,l,h,f,p));else{var v=f,A=h,w=f,E=h,$=x,C=x,b=c.apply(this,arguments)/2,I=b>N&&(r?+r.apply(this,arguments):Z(l*l+m*m)),L=$t(Wt(m-l)/2,+e.apply(this,arguments)),S=L,O=L,y,T;if(I>N){var G=zt(I/l*k(b)),W=zt(I/m*k(b));($-=G*2)>N?(G*=p?1:-1,w+=G,E-=G):($=0,w=E=(f+h)/2),(C-=W*2)>N?(W*=p?1:-1,v+=W,A-=W):(C=0,v=A=(f+h)/2)}var U=m*z(v),X=m*k(v),tt=l*z(E),nt=l*k(E);if(L>N){var et=m*z(A),rt=m*k(A),wt=l*z(w),At=l*k(w),H;if(x<Q&&(H=se(U,X,wt,At,et,rt,tt,nt))){var Et=U-H[0],vt=X-H[1],Tt=et-H[0],Lt=rt-H[1],Pt=1/k(Jn((Et*Tt+vt*Lt)/(Z(Et*Et+vt*vt)*Z(Tt*Tt+Lt*Lt)))/2),Ht=Z(H[0]*H[0]+H[1]*H[1]);S=$t(L,(l-Ht)/(Pt-1)),O=$t(L,(m-Ht)/(Pt+1))}}C>N?O>N?(y=at(wt,At,U,X,m,O,p),T=at(et,rt,tt,nt,m,O,p),o.moveTo(y.cx+y.x01,y.cy+y.y01),O<L?o.arc(y.cx,y.cy,O,R(y.y01,y.x01),R(T.y01,T.x01),!p):(o.arc(y.cx,y.cy,O,R(y.y01,y.x01),R(y.y11,y.x11),!p),o.arc(0,0,m,R(y.cy+y.y11,y.cx+y.x11),R(T.cy+T.y11,T.cx+T.x11),!p),o.arc(T.cx,T.cy,O,R(T.y11,T.x11),R(T.y01,T.x01),!p))):(o.moveTo(U,X),o.arc(0,0,m,v,A,!p)):o.moveTo(U,X),!(l>N)||!($>N)?o.lineTo(tt,nt):S>N?(y=at(tt,nt,et,rt,l,-S,p),T=at(U,X,wt,At,l,-S,p),o.lineTo(y.cx+y.x01,y.cy+y.y01),S<L?o.arc(y.cx,y.cy,S,R(y.y01,y.x01),R(T.y01,T.x01),!p):(o.arc(y.cx,y.cy,S,R(y.y01,y.x01),R(y.y11,y.x11),!p),o.arc(0,0,l,R(y.cy+y.y11,y.cx+y.x11),R(T.cy+T.y11,T.cx+T.x11),p),o.arc(T.cx,T.cy,S,R(T.y11,T.x11),R(T.y01,T.x01),!p))):o.arc(0,0,l,E,w,p)}if(o.closePath(),a)return o=null,a+""||null}return u.centroid=function(){var a=(+t.apply(this,arguments)+ +n.apply(this,arguments))/2,d=(+i.apply(this,arguments)+ +s.apply(this,arguments))/2-Q/2;return[z(d)*a,k(d)*a]},u.innerRadius=function(a){return arguments.length?(t=typeof a=="function"?a:F(+a),u):t},u.outerRadius=function(a){return arguments.length?(n=typeof a=="function"?a:F(+a),u):n},u.cornerRadius=function(a){return arguments.length?(e=typeof a=="function"?a:F(+a),u):e},u.padRadius=function(a){return arguments.length?(r=a==null?null:typeof a=="function"?a:F(+a),u):r},u.startAngle=function(a){return arguments.length?(i=typeof a=="function"?a:F(+a),u):i},u.endAngle=function(a){return arguments.length?(s=typeof a=="function"?a:F(+a),u):s},u.padAngle=function(a){return arguments.length?(c=typeof a=="function"?a:F(+a),u):c},u.context=function(a){return arguments.length?(o=a??null,u):o},u}function hr({gradient:t,id:n,x1:e="0%",x2:r="0%",y1:i="100%",y2:s="0%",gradientUnits:c="objectBoundingBox"}){const{components:{LinearGradient:o,Stop:u}}=rn();return g.jsx(o,{id:n,x1:e,x2:r,y1:i,y2:s,gradientUnits:c,children:t.map(({color:a,offset:d,stopOpacity:l=1})=>g.jsx(u,{offset:`${d}%`,stopColor:a,stopOpacity:l},`${n}-${a}-${d}`))})}const fr=24,gr=29,mr=48,pr=10,xr=2,_r=.8,yr=3,wr=12,Ar="1.5 3",ae=.02,ct=6,Er=10,vr=48,Tr="Crosshair",Lr=100,Ir="polaris_viz_tooltip_root",ce={width:0,height:0,x:0,y:0};function ue(){var t;const n=(t=navigator)===null||t===void 0?void 0:t.userAgent;return _.useMemo(()=>{const e=n.includes("Firefox"),r=n.includes("Chrome"),i=n.includes("Safari")&&!r;return{isFirefox:e,isChromium:r,isSafari:i}},[n])}function le(t){return`chart_${t??""}`}var Ct={ChartContainer:"_ChartContainer_yw85c_144",ContainerBounds:"_ContainerBounds_yw85c_157",Chart:"_Chart_yw85c_144"};function de(t,n,e){var r=this,i=_.useRef(null),s=_.useRef(0),c=_.useRef(null),o=_.useRef([]),u=_.useRef(),a=_.useRef(),d=_.useRef(t),l=_.useRef(!0);_.useEffect(function(){d.current=t},[t]);var m=!n&&n!==0&&typeof window<"u";if(typeof t!="function")throw new TypeError("Expected a function");n=+n||0;var f=!!(e=e||{}).leading,h=!("trailing"in e)||!!e.trailing,x="maxWait"in e,p=x?Math.max(+e.maxWait||0,n):null;_.useEffect(function(){return l.current=!0,function(){l.current=!1}},[]);var v=_.useMemo(function(){var A=function(I){var L=o.current,S=u.current;return o.current=u.current=null,s.current=I,a.current=d.current.apply(S,L)},w=function(I,L){m&&cancelAnimationFrame(c.current),c.current=m?requestAnimationFrame(I):setTimeout(I,L)},E=function(I){if(!l.current)return!1;var L=I-i.current;return!i.current||L>=n||L<0||x&&I-s.current>=p},$=function(I){return c.current=null,h&&o.current?A(I):(o.current=u.current=null,a.current)},C=function I(){var L=Date.now();if(E(L))return $(L);if(l.current){var S=n-(L-i.current),O=x?Math.min(S,p-(L-s.current)):S;w(I,O)}},b=function(){var I=Date.now(),L=E(I);if(o.current=[].slice.call(arguments),u.current=r,i.current=I,L){if(!c.current&&l.current)return s.current=i.current,w(C,n),f?A(i.current):a.current;if(x)return w(C,n),A(i.current)}return c.current||w(C,n),a.current};return b.cancel=function(){c.current&&(m?cancelAnimationFrame(c.current):clearTimeout(c.current)),s.current=0,o.current=i.current=u.current=c.current=null},b.isPending=function(){return!!c.current},b.flush=function(){return c.current?$(Date.now()):a.current},b},[f,x,n,p,h,m]);return v}const he=null;function fe(t){return typeof window>"u"?Ft:new(window.ResizeObserver||Ft)(t)}const ge=()=>{const[t,n]=_.useState(null),[e,r]=_.useState(he);return _.useLayoutEffect(()=>{if(!t)return;const i=fe(([s])=>r(s));return i.observe(t),()=>{i.disconnect()}},[t,r]),{ref:t,setRef:n,entry:e}};function me({ref:t,setContainerBounds:n,onIsPrintingChange:e}){const[r,i]=_.useState(!1),{isFirefox:s,isSafari:c}=ue();return _.useLayoutEffect(()=>{const o=typeof window>"u";function u(){if(t!=null){const{paddingRight:h,paddingLeft:x,paddingTop:p,paddingBottom:v}=getComputedStyle(t),A=t.clientWidth-parseInt(x,10)-parseInt(h,10),w=t.clientHeight-parseInt(p,10)-parseInt(v,10);n({width:A,height:w}),i(E=>{const $=!E;return e($),$})}}const a=()=>{setTimeout(()=>{u()})},d=typeof window.matchMedia("print").addEventListener=="function",l=typeof window.matchMedia("print").addListener=="function",m=!c&&!o,f=c&&!o;return s&&(window.addEventListener("beforeprint",u),window.addEventListener("afterprint",u)),m&&(d?window.matchMedia("print").addEventListener("change",u):l&&window.matchMedia("print").addListener(a)),f&&(d?window.matchMedia("print").addEventListener("change",a):l&&window.matchMedia("print").addListener(a)),()=>{s&&(window.removeEventListener("beforeprint",u),window.removeEventListener("afterprint",u)),m&&(d?window.matchMedia("print").removeEventListener("change",u):l&&window.matchMedia("print").removeListener(a)),f&&(d?window.matchMedia("print").removeEventListener("change",a):l&&window.matchMedia("print").removeListener(a))}},[e,n,t,s,c]),{isPrinting:r}}function pe({onIsPrintingChange:t,scrollContainer:n,sparkChart:e}){const{chartContainer:r}=j(),{ref:i,setRef:s,entry:c}=ge(),o=Zn(c),[u,a]=_.useState(null);me({ref:i,setContainerBounds:a,onIsPrintingChange:t});const d=_.useCallback(()=>{if((o==null?void 0:o.contentRect.width)===(c==null?void 0:c.contentRect.width)&&(o==null?void 0:o.contentRect.height)===(c==null?void 0:c.contentRect.height)||c==null)return;const{width:f,height:h}=c.contentRect,{x,y:p}=c.target.getBoundingClientRect(),v=n==null?window.scrollY:n.scrollTop;a({width:f,height:h,x,y:p+v})},[c,o==null?void 0:o.contentRect,n]),l=de(()=>{d()},100);_.useLayoutEffect(()=>{d(),u===null&&a({width:0,height:e?r.sparkChartMinHeight:r.minHeight,x:0,y:0});const f=typeof window>"u";return f||window.addEventListener("resize",l),()=>{f||window.removeEventListener("resize",l)}},[c,d,l,u,r.minHeight,e,r.sparkChartMinHeight]);const m=_.useCallback(()=>{if(i==null)return;const f=n==null?window.scrollY:n.scrollTop,h=i.getBoundingClientRect();a(x=>h.y===(x==null?void 0:x.y)&&h.x===(x==null?void 0:x.x)?x:{width:h.width,height:h.height,x:h.x,y:h.y+f})},[i,n]);return{containerBounds:u,updateContainerBounds:m,setRef:s}}function xe(){return{prefersReducedMotion:typeof window>"u"?!1:window.matchMedia("(prefers-reduced-motion: reduce)").matches}}function _e(t){t==null||t.length===0||(en(t)?ye(t):an(t))}function an(t,n="DataSeries"){if(t[0].data==null)return!1;const e=t[0].data.length;if(t.some(i=>i.data.length!==e))return console.warn(`The ${n}[] provided does not have equal series values.`,t),!0}function ye(t){t.some(({series:n})=>an(n,"DataGroup"))}var we={Container:"_Container_1ymq9_1"},Ae={Shimmer:"_Shimmer_hqp2w_1"};function Ee({backgroundColor:t}){const n=Bt(t,0),{containerBounds:{height:e,width:r}}=P(),i=_.useRef(null);_.useEffect(()=>{i.current!==null&&(i.current.style.setProperty("--shimmerWidth",`${r}px`),i.current.style.setProperty("--shimmerHeight",`${e}px`))},[r,e]);const[s,c]=[r,e],o=Math.asin(c/s)/(Math.PI/180);return g.jsx("div",{ref:i,className:Ae.Shimmer,style:{backgroundImage:`linear-gradient(-${o}deg,
            ${n} 10%,
            ${n} 35%,
            ${t} 50%,
            ${n} 65%,
            ${n} 100%)`}})}function ve(t){let n=-1,e=0;return t.forEach(({truncatedWidth:r},i)=>{r>e&&(n=i,e=r)}),t[n]}function Te({characterWidths:t,targetWidth:n,label:e}){const r=e.split(" ");let i=0,s=0;return r.forEach((c,o)=>{const u=r[o].split("-");i+=u.length;const a=pt(r[o],t);s+=a,s>n&&(i+=1,s=a)}),i*B}function cn(t){let n=t.trimEnd();return n.endsWith("-")&&(n=n.substring(0,n.length-1)),`${n}${Mt}`}const Le=10,St=1;function Ie({label:t,targetHeight:n,targetWidth:e,characterWidths:r}){let i=t,s=0,c=t.length,o=0;if(c<s)return i;for(;s<=c&&o<Le;){const u=Math.floor((s+c)/2);i=t.substring(0,u),i.length<t.length&&(i=cn(i));const a=Te({label:i,targetWidth:e,characterWidths:r});if(a===n)break;a>n&&(c=u-St),a<n&&(s=u+St),o+=St}return i.length===t.length-1?t:i}function $e({characterWidths:t,label:n,targetWidth:e}){if(pt(n,t)<=e)return n;const i=n.split("");let s=0,c="",o=0;for(;s<=e-t[Mt];)s+=t[i[o]],c+=i[o],o++;return c.length===n.length-1?n:cn(c)}function Ce({label:t,targetWidth:n,targetHeight:e,characterWidths:r}){return e<=B?$e({label:t,targetWidth:n,characterWidths:r}):Ie({label:t,targetWidth:n,targetHeight:e,characterWidths:r})}function un({word:t,targetWidth:n,characterWidths:e}){let r=1,i="";if(pt(t,e)+e.W<=n)return t;for(;i.length<t.length&&pt(i,e)+e.W<n;)r+=1,i=t.substring(0,r),i=`${i}${Mt}`;return i.length===t.length-1?t:i}function kt({labels:t,targetWidth:n,targetHeight:e,characterWidths:r,skipEndWordTruncate:i=!1}){const s=[...t];return t.forEach(({fontSize:c},o)=>{s[o].truncatedWords=[],s[o].words=[];const u=s[o].text.split(/(\s+)/).filter(a=>a.trim().length>0);i?s[o].truncatedWords.push(s[o].text):u.forEach(a=>{const d=xt(a,c);s[o].words.push({word:a,wordWidth:d}),d>n?s[o].truncatedWords.push(un({word:a,targetWidth:n,characterWidths:r})):s[o].truncatedWords.push(a)}),s[o].truncatedName=s[o].truncatedWords.join(" "),s[o].truncatedName=Ce({label:s[o].truncatedName,targetWidth:n,targetHeight:e,characterWidths:r}),s[o].truncatedWidth=xt(s[o].truncatedName,s[o].fontSize),s[o].truncatedWords=s[o].truncatedName.split(" ")}),s}function Se({characterWidths:t,labels:n,longestLabelWidth:e,targetHeight:r,targetWidth:i}){const s=_t({amount:e,min:i,max:An}),c=kt({labels:n,targetWidth:s,targetHeight:r,characterWidths:t,skipEndWordTruncate:!0}),o=[],u=i/2-B/2;for(let d=0;d<n.length;d++)o[d]=[],o[d].push({truncatedText:c[d].truncatedName,fullText:c[d].text,fontSize:n[d].fontSize,y:u,x:u,dominantBaseline:"hanging",width:s,height:B,textAnchor:"end",transform:"rotate(-45)"});const{truncatedWidth:a}=ve(c);return{lines:o,containerHeight:_t({amount:Re(a,45,r),min:0,max:wn})}}function Re(t,n,e){const r=Math.PI/180*n,i=t*Math.sin(r),s=e*Math.cos(r);return Math.round(i+s)}const Vt=1;function be({align:t,fontSize:n,labels:e,targetHeight:r,targetWidth:i,characterWidths:s}){const c=kt({labels:e,targetWidth:i,targetHeight:r,characterWidths:s}),o=[];let u=0;return c.forEach((a,d)=>{o[d]=[];let l="",m=0;const f=a.truncatedWords;for(let h=0;h<f.length;h++){for(a.words[h]&&a.words[h].wordWidth>i&&(f[h]=un({word:f[h],targetWidth:i,characterWidths:s})),l+=f[h];f[h+1]!=null&&xt(`${l} ${f[h+Vt]}`,n)<i;)l+=` ${f[h+Vt]}`,h+=1;o[d].push({truncatedText:l,fullText:c[d].text,x:t==="left"?0:i/2,y:m*B,fontSize:a.fontSize,width:i,height:B,textAnchor:t==="left"?"start":"middle",dominantBaseline:"hanging"}),m+=1,l="",m>u&&(u=m)}}),{lines:o,containerHeight:u*B}}const De=4;function Ne({labels:t,characterWidths:n,longestLabelWidth:e,targetWidth:r}){const i=_t({amount:e,min:r,max:En}),s=kt({labels:t,targetWidth:i,targetHeight:B,characterWidths:n,skipEndWordTruncate:!0}),c=[];let o=0;for(let u=0;u<t.length;u++)c[u]=[],c[u].push({truncatedText:s[u].truncatedName,fontSize:t[u].fontSize,fullText:s[u].text,y:B/De,x:0,width:i,height:B,textAnchor:"end",transform:`translate(${r/2}) rotate(-90)`}),s[u].truncatedWidth>o&&(o=s[u].truncatedWidth);return{lines:c,containerHeight:o}}function Oe({allowLineWrap:t,align:n="center",labels:e,onHeightChange:r=()=>{},targetWidth:i}){const{characterWidths:s}=P(),c=ln(),o=_.useMemo(()=>e.map(l=>({text:l,fontSize:c,words:[],truncatedWords:[],truncatedName:"",truncatedWidth:0})),[e,c]),u=_.useMemo(()=>e.reduce((l,m)=>{const f=xt(m,c);return f>l?f:l},0),[e,c]),{lines:a,containerHeight:d}=_.useMemo(()=>{const l=Me({allowLineWrap:t,longestLabelWidth:u,targetWidth:i}),m=i>Tn,f=i>vn;switch(!0){case l:return be({align:n,fontSize:c,labels:o,targetWidth:i,targetHeight:Ln,characterWidths:s});case m:return Se({characterWidths:s,labels:o,longestLabelWidth:u,targetHeight:B,targetWidth:i});case f:return Ne({characterWidths:s,labels:o,longestLabelWidth:u,targetWidth:i});default:return{lines:[],containerHeight:0}}},[n,t,c,i,s,o,u]);return _.useEffect(()=>{r(d)},[d,r]),{lines:a,containerHeight:d}}function Me({allowLineWrap:t,longestLabelWidth:n,targetWidth:e}){const r=e>n;return t===!1?r:e>=In||r}function je({color:t,index:n,line:e}){const r=j();return g.jsx(_.Fragment,{children:e.map(({dominantBaseline:i,height:s,fontSize:c,fullText:o,truncatedText:u,textAnchor:a,transform:d,width:l,x:m,y:f},h)=>{const x=`${n}-${h}-${u}`;return g.jsxs(_.Fragment,{children:[g.jsx("text",{textAnchor:a,dominantBaseline:i,height:s,width:l,x:m,y:f,fill:t??r.xAxis.labelColor,fontSize:c,fontFamily:$n,transform:d,children:u}),g.jsx("title",{children:o})]},x)})})}const ut=3;function J({errorText:t,width:n,height:e}){const{chartContainer:{backgroundColor:r}}=j(),{lines:i}=Oe({allowLineWrap:!0,labels:[t],targetWidth:n});return g.jsx("g",{style:{transform:`translateY(${Math.max(0,e/2-Cn/2)}px)`,filter:`
        drop-shadow( ${ut}px 0px 1px ${r})
        drop-shadow( -${ut}px  0px 1px ${r})
        drop-shadow( 0px ${ut}px 1px ${r})
        drop-shadow( 0px -${ut}px 1px ${r})
      `},children:g.jsx(je,{index:0,line:i[0]})})}const M=12,Yt=32,lt=200,Rt=5;function Be({state:t,errorText:n}){const{containerBounds:{height:e,width:r}}=P(),{chartContainer:{padding:i},grid:{color:s}}=j(),{paddingLeft:c,paddingBottom:o,paddingTop:u}=Bn(i),a=e-o-u,d=new Array(Rt).fill(null).map((f,h)=>({y:h*((a-M)/(Rt-1))})),[l,m]=Kt(d.length,()=>({opacity:1,config:{mass:1,tension:350,friction:22,velocity:0},default:{immediate:!1},from:{transform:"translate(0px,0px) rotate(0deg)"}}));return _.useEffect(()=>{const f=d[Rt-1].y,h=x=>f-d[x].y;t===D.Error&&m.start(x=>({to:async p=>{switch(x){case 0:await p({delay:lt+300,config:{duration:500},transform:`translate(10px,${h(x)-M*4.6}px) rotate(52deg)`}),await p({config:{duration:150},transform:`translate(40px,${h(x)-M*2}px) rotate(52deg)`}),await p({config:{tension:400,friction:40},transform:`translate(60px,${h(x)-M*-.1}px) rotate(0eg)`});break;case 1:await p({delay:lt+100,config:{duration:80},transform:`translate(-1px,${d[2].y-d[x].y-M}px) rotate(-3deg)`}),await p({config:{duration:90},transform:`translate(-6px,${d[2].y-d[x].y-M}px) rotate(-13deg)`}),await p({config:{duration:390},transform:`translate(-4px,${h(x)-M*1.7}px) rotate(-23deg)`}),await p({delay:150,config:{tension:500,friction:100,velocity:.03},transform:`translate(-10px,${h(x)-M*1.1}px) rotate(-40deg)`});break;case 2:await p({config:{duration:200},delay:lt+150,transform:"translate(0px, 0px) rotate(-105deg)"}),await p({config:{duration:200},transform:`translate(-15px,${h(x)-M*2.5}px) rotate(-157deg)`}),await p({delay:300,config:{tension:500,friction:40,velocity:.03},transform:`translate(-3px,${h(x)-M*2.1}px) rotate(-150deg)`});break;case 3:await p({config:{duration:200},delay:lt,transform:"translate(0px, 0px) rotate(105deg)"}),await p({delay:0,config:{tension:500,friction:40,velocity:.03},transform:`translate(8px,${h(x)-M*2.4}px) rotate(138deg)`});break}}}))},[m,t,d]),g.jsx(_.Fragment,{children:g.jsxs("svg",{viewBox:`0 0 ${r} ${e}`,children:[l.map((f,h)=>{const x=d[h].y;return g.jsxs("g",{children:[g.jsx(K.rect,{style:{...f,transformOrigin:`${h===2?Yt+c:c}px ${d[h].y+M}px`},x:c,y:d[h].y,width:Yt,height:M,ry:2,rx:2,fill:s}),g.jsx("rect",{x:0,y:x+5,width:r,height:1,fill:s})]},h)}),t===D.Error&&g.jsx(J,{errorText:n,width:r,height:e})]})})}function ke({state:t,errorText:n}){const{containerBounds:{height:e,width:r}}=P(),{grid:{color:i}}=j();return g.jsxs("svg",{viewBox:`0 0 ${r} ${e}`,children:[t===D.Loading&&g.jsx("rect",{x:0,y:0,width:r,height:e,fill:i,rx:Sn}),t===D.Error&&g.jsx(J,{errorText:n,width:r,height:e})]})}var dt={Container:"_Container_7i430_1",Legend:"_Legend_7i430_5",LegendItem:"_LegendItem_7i430_13",LegendItemComponent:"_LegendItemComponent_7i430_34"};const Pe={small:16,medium:36,large:56};function He({errorText:t,showLegend:n,size:e,state:r}){const{containerBounds:{height:i,width:s}}=P(),{grid:{color:c},bar:{borderRadius:o},chartContainer:{padding:u}}=j(),a=jt("simple-bar-skeleton");return g.jsxs("div",{className:dt.Container,style:{padding:u},children:[r===D.Loading&&g.jsxs(_.Fragment,{children:[n&&g.jsx("div",{className:dt.Legend,children:new Array(3).fill(0).map((d,l)=>g.jsx("div",{className:dt.LegendItem,children:new Array(3).fill(0).map((m,f)=>g.jsx("div",{className:dt.LegendItemComponent,style:{background:c}},`${a}${l}${f}`))},`${a}${l}`))}),g.jsx("div",{style:{background:c,borderRadius:o,height:Pe[e]}})]}),r===D.Error&&g.jsx("svg",{viewBox:`0 0 ${s} ${i}`,children:g.jsx(J,{errorText:t,width:s,height:i})})]})}var Ut={SimpleBarSkeleton:"_SimpleBarSkeleton_1nscx_1",Item:"_Item_1nscx_8"};function Fe({state:t,errorText:n}){const{containerBounds:{height:e,width:r}}=P(),{grid:{color:i},bar:{borderRadius:s}}=j(),c=jt("simple-bar-skeleton"),o=()=>g.jsx("span",{style:{display:"inline-block",background:i,borderRadius:s}});return g.jsxs("div",{className:Ut.SimpleBarSkeleton,children:[t===D.Loading&&g.jsx(_.Fragment,{children:new Array(4).fill(0).map((u,a)=>g.jsxs("div",{className:Ut.Item,children:[g.jsx(o,{}),g.jsx(o,{})]},`${c}${a}`))}),t===D.Error&&g.jsx("svg",{viewBox:`0 0 ${r} ${e}`,children:g.jsx(J,{errorText:n,width:r,height:e})})]})}function Ge({animationDelay:t=0}){const{shouldAnimate:n}=P();return sn({animationDelay:n?t:0,shouldAnimate:n,unmountedSpringConfig:bn,mountedSpringConfig:Rn})}var Xt={Bar:"_Bar_1hwkw_144",Group:"_Group_1hwkw_153"};function We({x:t,y:n,direction:e,areAllNegative:r}){return e==="vertical"?{x1:t,x2:t,y1:n,y2:r?n+ct:n-ct}:{x1:t,x2:r?t-ct:t+ct,y1:n,y2:n}}function ze({x:t,y:n,theme:e,direction:r="vertical",areAllNegative:i}){const s=j(e);return g.jsx(_.Fragment,{children:g.jsx("line",{stroke:s.bar.zeroValueColor,strokeWidth:"1",...We({x:t,y:n,direction:r,areAllNegative:i})})})}const Ve=_.memo(function({animationDelay:n=0,areAllNegative:e,ariaLabel:r,color:i,height:s,index:c,isActive:o=!0,transform:u,width:a,x:d,y:l}){const m=j(),f=`0 ${m.bar.borderRadius} ${m.bar.borderRadius} 0`,h=_.useCallback((A=0,w=0)=>Fn({height:A,width:w,borderRadius:f}),[f]),x=Ge({animationDelay:n}),p=Qt({from:{pathD:h(s,1)},to:{pathD:h(s,a)},...x}),v=!r;return g.jsx("g",{className:Xt.Group,"aria-hidden":v,role:"img","aria-label":r,transform:`translate(${d}, ${l})`,children:a!==0?g.jsx(K.path,{d:p.pathD,"data-id":`bar-${c}`,"data-index":c,"data-type":tn.Bar,fill:i,"aria-hidden":"true",style:{transform:u,opacity:o?bt:Jt},className:Xt.Bar}):g.jsx(K.g,{style:{transform:`translate(${d}px, ${-l}px)`},children:g.jsx(ze,{x:d,y:l+s/2,direction:"horizontal",areAllNegative:e})})})});function Ye({state:t,errorText:n}){const{containerBounds:{height:e,width:r}}=P(),{grid:{color:i}}=j(),s=4,c=r*.05,u=(r-c)/s,a=u/2,d=jt("loadingFunnel"),l=e*1.3/s;return g.jsxs("svg",{viewBox:`0 0 ${r} ${e}`,children:[t===D.Loading&&Array(s).fill(null).map((m,f)=>{const h=e-l*f,x=e-l*(f+1),p={height:e,startX:u/2*f,startY:e-h,nextX:u/2*(f+1),nextY:e-x};return g.jsxs(_.Fragment,{children:[g.jsx(Ve,{color:i,x:u*f,y:e-h,height:h,width:a}),f!==s-1&&g.jsx("path",{style:{transform:`translateX(${u/2*(f+1)}px)`},fill:Bt(i,.2),d:`M${p.startX} ${p.startY}
                    L ${p.nextX} ${p.nextY}
                    V ${p.height} H ${p.startX} Z`})]},`${d}${f}`)}),t===D.Error&&g.jsx(J,{errorText:n,width:r,height:e})]})}var ht={Donut:"_Donut_1xk67_144",DonutWrapper:"_DonutWrapper_1xk67_154",ContentWrapper:"_ContentWrapper_1xk67_162",DonutChart:"_DonutChart_1xk67_180"},Zt={Arc:"_Arc_12guq_144"};function qt(...t){return t.filter(Boolean).join(" ")}function Ue(t){if(t.length===1){const e=t[0].color;return`conic-gradient(${e} 0%, ${e} 100%)`}return`conic-gradient(${t.map(({color:e,offset:r})=>`${e} ${r}%`).join(", ")})`}function Xe({gradient:t,height:n,width:e,x:r=0,y:i=0}){const s=Ue(t);return g.jsx("foreignObject",{x:r,y:i,width:e,height:n,children:g.jsx("div",{style:{width:`${e}px`,height:`${n}px`,backgroundImage:s}})})}const ft=30;function Ze({animationDelay:t=100,radius:n,width:e,height:r,startAngle:i,endAngle:s,color:c,cornerRadius:o,thickness:u,index:a=0,isAnimated:d,activeIndex:l=0}){const m=_.useMemo(()=>nn("DonutChart"),[]),f=oe().cornerRadius(o),h=Yn(c),x=sn({animationDelay:a*t,shouldAnimate:d,mountedSpringConfig:Nn,unmountedSpringConfig:On}),{animatedInnerRadius:p,animatedOuterRadius:v,animatedStartAngle:A,animatedEndAngle:w,animatedPadAngle:E}=Qt({animatedInnerRadius:n-u,animatedOuterRadius:n,animatedStartAngle:i,animatedEndAngle:s,animatedPadAngle:ae,from:{animatedOuterRadius:n-u,animatedInnerRadius:n-u},...x});return g.jsxs(_.Fragment,{children:[g.jsx("clipPath",{id:m,transform:`translate(${e/2-ft} ${r/2-ft})`,children:g.jsx(K.path,{className:qt(Zt.Arc),d:mn([p,v,A,w,E],($,C,b,I,L)=>f({innerRadius:$,outerRadius:C,startAngle:b,endAngle:I,padAngle:L}))})}),g.jsx("g",{style:{...Pn({activeIndex:l,index:a})},className:qt(Zt.Arc),...kn({type:Dn,index:a}),clipPath:`url(#${m})`,"data-type":tn.Arc,"data-index":a,"aria-hidden":!1,"data-start-angle":i,"data-end-angle":s,children:g.jsx(Xe,{x:e/-2-ft,y:r/-2-ft,height:n*4,width:n*4,gradient:h})})]})}const V=Math.PI*2,qe=700,gt=20,mt=200;function Ke({state:t,errorText:n}){const{containerBounds:{height:e,width:r}}=P(),i=Math.min(r,e),s=i/2,c=j(),o=c.arc.thickness,u=[{startAngle:0,endAngle:V*.25},{startAngle:V*.25,endAngle:V*.45},{startAngle:V*.45,endAngle:V*.6},{startAngle:V*.6,endAngle:V}],[a,d]=Kt(u.length,()=>({from:{transform:"translate(0px,0px) rotate(0deg)"},config:pn.stiff}));_.useEffect(()=>{const v={x:-8.200000000000001,y:9.02},A={delay:qe,config:{duration:600,easing:q.easeOutBounce},transform:`translate(
        ${v.x}px,
        ${v.y}px)
        rotate(12deg)`};t===D.Error&&d.start(w=>({to:async E=>{switch(w){case 0:await E(A),await E({config:{duration:400,easing:q.easeInExpo},delay:mt,transform:`translate(
                  ${82*.28}px,
                  ${82*1.49}px) rotate(-48deg)`});break;case 1:await E(A),await E({config:{duration:140,easing:q.easeOutExpo},delay:mt+200,transform:`translate(
                  ${82*.62}px,
                  ${82*.17}px) rotate(55deg)`});break;case 2:await E(A),await E({config:{duration:190,easing:q.easeInExpo},delay:mt,transform:`translate(
                  ${82*-.5}px,
                  ${82*.12}px) rotate(-10deg)`});break;case 3:await E(A),await E({config:{duration:590,easing:q.easeInExpo},delay:mt*2,transform:`translate(
                  0px,
                  0px) rotate(-12deg)`});break}}}))},[d,e,s,t]);const l=-80,m=-40,f={height:i+gt,width:i+gt-l},x=`${(s+gt)/2}px ${gt*2}px`;return g.jsx("div",{className:ht.DonutWrapper,children:g.jsxs("div",{className:ht.Donut,children:[g.jsx("svg",{viewBox:`${l} ${m} ${f.width} ${f.height}`,height:i,width:i,children:g.jsx("g",{className:ht.DonutChart,children:a.map((p,v)=>g.jsx(K.g,{style:{...p,transformOrigin:x},children:g.jsx(Ze,{isAnimated:!1,width:i,height:i,radius:s,startAngle:u[v].startAngle,endAngle:u[v].endAngle,color:c.grid.color,cornerRadius:c.arc.cornerRadius,thickness:o})},`DonutSkeleton-${v}`))})}),t===D.Error&&g.jsx("div",{className:ht.ContentWrapper,children:g.jsx("span",{style:{color:c.xAxis.labelColor},children:n})})]})})}function Qe(t){const{containerBounds:n}=P(),{errorText:e="Could not load the chart",state:r=D.Loading,theme:i,type:s}=t,{chartContainer:{backgroundColor:c}}=j(i),o=()=>{switch(s){case"Donut":return g.jsx(Ke,{state:r,errorText:e});case"Funnel":return g.jsx(Ye,{state:r,errorText:e});case"SimpleBar":return g.jsx(Fe,{state:r,errorText:e});case"SimpleNormalized":{const{showLegend:u=!0,size:a="small"}=t;return g.jsx(He,{state:r,errorText:e,showLegend:u,size:a})}case"Spark":return g.jsx(ke,{state:r,errorText:e});default:return g.jsx(Be,{state:r,errorText:e})}};return n.width===0?null:g.jsxs("div",{className:we.Container,children:[g.jsx(o,{}),r===D.Loading&&g.jsx(Ee,{backgroundColor:c})]})}class Je extends _.Component{static getDerivedStateFromError(n){return{hasError:!0}}constructor(n){super(n),this.state={hasError:!1},this.onError=(e,r)=>{_e(this.props.data),this.props.onError?this.props.onError(e,r):console.error({error:e,errorInfo:r})}}componentDidCatch(n,e){this.onError(n,e)}render(){return this.state.hasError?g.jsx(Qe,{type:this.props.type,state:D.Error}):this.props.children}}const $r=t=>{var n,e,r;const i=(n=t.id)!==null&&n!==void 0?n:nn("chart"),{prefersReducedMotion:s}=xe(),[c,o]=_.useState(!1),{onError:u}=rn(),a=_.useMemo(()=>Vn(t.data,t.type),[t.data,t.type]),{containerBounds:d,updateContainerBounds:l,setRef:m}=pe({onIsPrintingChange:o,scrollContainer:t.scrollContainer,sparkChart:t.sparkChart}),f=_.useMemo(()=>{const v=t.isAnimated&&!s&&!a,A=c?"Print":t.theme,w=Xn(t.data),E=w.map(({comparisonIndex:$})=>$);return{shouldAnimate:v,id:i,characterWidths:hn,characterWidthOffsets:dn,theme:A,isTouchDevice:Un(),isPerformanceImpacted:a,scrollContainer:t.scrollContainer,containerBounds:d??ce,comparisonSeriesIndexes:w,comparisonIndexes:E}},[i,c,s,t.isAnimated,t.theme,a,t.scrollContainer,d,t.data]),{chartContainer:h,grid:x}=j(f.theme),p=!x.verticalOverflow&&h.padding==null?"3px 0 0 0":h.padding;return g.jsx(fn.Provider,{value:f,children:g.jsx("div",{className:Ct.ChartContainer,style:{background:h.backgroundColor,padding:p,borderRadius:h.borderRadius},id:le(f.id),children:g.jsx("div",{className:Ct.ContainerBounds,ref:m,style:{minHeight:t.sparkChart?h.sparkChartMinHeight:h.minHeight},onMouseEnter:l,onFocus:l,onTouchStart:l,children:tr(f.containerBounds)?g.jsx(Je,{type:(e=t.skeletonType)!==null&&e!==void 0?e:"Default",containerBounds:f.containerBounds,data:t.data,onError:(r=t.onError)!==null&&r!==void 0?r:u,children:g.jsx("div",{className:Ct.Chart,style:{height:f.containerBounds.height,width:f.containerBounds.width},children:t.children})}):null})})})};function tr(t){return t.width>0&&t.height>0}export{pr as A,Ve as B,$r as C,Lr as D,_r as E,ge as F,Ir as G,vr as H,Ar as I,fr as J,gr as K,hr as L,Ce as M,Er as N,mr as O,wr as P,je as T,xr as Y,ze as Z,ur as a,Qe as b,Zn as c,Pn as d,Ge as e,kn as f,Xn as g,qt as h,dr as i,jn as j,lr as k,Bt as l,F as m,sn as n,Yn as o,on as p,_t as q,Ze as r,Tr as s,Qn as t,rn as u,Fn as v,le as w,Oe as x,yr as y,ue as z};
//# sourceMappingURL=https://web-sourcemaps.shopify.io/v1/en/ChartContainer-XfUOX9D3-me7.js.map
